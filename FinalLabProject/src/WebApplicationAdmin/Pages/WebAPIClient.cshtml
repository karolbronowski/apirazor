@page
@model WebApplicationAdmin.Pages.WebAPIClientModel
@{
    ViewData["Title"] = "Web API Client";
}
<h1>@ViewData["Title"]</h1>

@if (Model.IsArtist)
{
    <h3>Twoje piosenki:</h3>
    <ul>
        @foreach (var song in Model.Songs)
        {
            <li>@song.Title (odsłuchań: @song.ListenedTimes)</li>
        }
    </ul>
}
else
{
    <h3>Wszystkie piosenki:</h3>
    <ul>
        @foreach (var song in Model.Songs)
        {
            <li>
                @song.Title (odsłuchań: @song.ListenedTimes)
                <form method="post" asp-page-handler="Favorite" asp-route-songId="@song.Id" style="display:inline">
                    <button type="submit" class="btn btn-sm btn-warning">Dodaj do ulubionych</button>
                </form>
            </li>
        }
    </ul>
}

@if (!string.IsNullOrEmpty(Model.ResultMessage))
{
    <div class="alert alert-info mt-3">@Model.ResultMessage</div>
}
@if (!string.IsNullOrEmpty(Model.DebugSongsJson))
{
    <h5>Surowa odpowiedź API:</h5>
    <pre>@Model.DebugSongsJson</pre>
}